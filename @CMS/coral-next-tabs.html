<style>.tabs{width:100%}.tabs .tab-buttons{width:100%;display:flex;padding:8px;border-radius:var(--radius-borderRadiusLG, 16px);background:var(--Base-color_Base_Light, #FFF);margin-bottom:24px;scrollbar-width:none;-ms-overflow-style:none}.tabs .tab-buttons::-webkit-scrollbar{display:none}@media (max-width: 475px){.tabs .tab-buttons{overflow-x:scroll;scroll-snap-type:x mandatory;scroll-padding-inline:8px}}.tabs .tab-buttons button{flex:1;cursor:pointer;transition:all .3s;background:#fff;padding:10px 24px;border:none;border-radius:8px;font-size:16px}@media (max-width: 475px){.tabs .tab-buttons button{scroll-snap-align:start}}.tabs .tab-buttons button:hover{color:#4a90e2}.tabs .tab-buttons button.js-active{background:#f3f9ff;color:#000}.tabs .tab-content .tab-block{display:none;position:relative}.tabs .tab-content .tab-block.js-active{display:block}.cards-container{display:flex;flex-wrap:wrap;gap:24px}@media (max-width: 1024px){.cards-container{flex-direction:column}}.hotel-card{display:flex;gap:8px;width:calc(50% - 12px);border-radius:12px;border:1px solid rgba(0,0,0,.06);background:#fff;padding:8px}@media (max-width: 1024px){.hotel-card{width:100%}}@media (max-width: 475px){.hotel-card{flex-direction:column}}.hotel-card .visual{border-radius:8px;overflow:clip;width:calc(50% - 4px);position:relative}@media (max-width: 475px){.hotel-card .visual{min-height:200px;width:100%}}.hotel-card .visual img{position:absolute;width:100%;height:100%}.hotel-card .content{display:flex;flex-direction:column;width:calc(50% - 4px)}@media (max-width: 475px){.hotel-card .content{width:100%}}section.hero>article .contenu .prime-btn--modefided{border-radius:8px}.hotel-location{display:flex;gap:4px;margin-bottom:8px}.hotel-name{font-size:20px;font-weight:600;margin-bottom:8px}.rating{margin-bottom:12px}.hotel-dates{margin-bottom:8px;background:#f6f6f6;width:fit-content;border-radius:8px;display:flex;align-items:center;gap:8px;padding:6px}.hotel-dates .hotel-date{padding:6px;display:flex;align-items:center;gap:6px;border-radius:8px;cursor:pointer}.hotel-dates .hotel-date.js-active{border:1px solid #2a92d0}.price{display:none}.price.js-active{display:block}.package{padding:4px 8px;border-radius:4px;background:#f3f3f3;margin-bottom:8px;text-align:center}.meal{margin-bottom:8px;margin-top:auto}@media (max-width: 1024px){.meal{margin-top:0}}.info-icons{margin-bottom:8px;display:flex;flex-wrap:wrap;gap:8px;align-items:center}.info-icons .icon-wrapper{display:flex;gap:8px;align-items:center;flex:0 0 auto}.info-icons .icon-wrapper .icon{width:13px;height:13px;flex-shrink:0}.info-icons .icon-wrapper .icon svg{width:100%;height:100%}.cards-wrapper{position:relative}.loading-box{padding:20px;text-align:center;font-weight:700;font-size:18px;color:#888;animation:loadingFade 1.4s ease-in-out infinite}@keyframes loadingFade{0%,to{opacity:.3}50%{opacity:1}}
</style>
<section class="hero">
    <article>
        <div class="contenu">
            <div class="tabs">
                <div class="tab-buttons" id="tabs-button-container">
                </div>

                <div class="tab-content" data-active-tab="Турция">
                    <div data-content="1" class="tab-block js-active">
                        <div class="loading-box">Загрузка туров...</div>
                        <div class="cards-wrapper">
                            <div class="cards-container"></div>
                        </div>
                    </div>
                    <div data-content="2" class="tab-block">
                        <div class="loading-box">Загрузка туров...</div>
                        <div class="cards-wrapper">

                            <div class="cards-container"></div>
                        </div>
                    </div>
                    <div data-content="3" class="tab-block">
                        <div class="loading-box">Загрузка туров...</div>
                        <div class="cards-wrapper">

                            <div class="cards-container"></div>
                        </div>
                    </div>
                    <div data-content="4" class="tab-block">
                        <div class="loading-box">Загрузка туров...</div>
                        <div class="cards-wrapper">
                            <div class="cards-container"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>
</section>
<script type="module">function t(t,e){const n=document.querySelector(`.tab-block[data-content="${e}"] .cards-container`);if(!n)return;if(n.querySelector(`[data-hotel="${t.hotel}"]`))return;const o=function(t){const e=document.createElement("div");e.className="hotel-card";const n=document.createElement("div");n.className="visual";const o=document.createElement("img");o.src=t.visual,o.alt=t.hotel,n.append(o);const a=document.createElement("div");a.className="content",a.append(function(t){const e=document.createElement("div");e.className="top";const n=document.createElement("div");n.className="hotel-location",n.innerHTML=`\n    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n      <path d="M12.8335 5.66683C12.8335 9.72673 8.50008 14.6668 8.50008 14.6668C8.50008 14.6668 4.16675 9.72673 4.16675 5.66683C4.16675 3.2736 6.10685 1.3335 8.50008 1.3335C10.8934 1.3335 12.8335 3.2736 12.8335 5.66683Z" stroke="#535353" stroke-width="0.5" stroke-linejoin="round"/>\n      <path d="M8.5 7.66699C9.60457 7.66699 10.5 6.77156 10.5 5.66699C10.5 4.56242 9.60457 3.66699 8.5 3.66699C7.39543 3.66699 6.5 4.56242 6.5 5.66699C6.5 6.77156 7.39543 7.66699 8.5 7.66699Z" stroke="#535353" stroke-width="0.5" stroke-linejoin="round"/>\n    </svg>\n    ${t.location}\n  `;const o=document.createElement("div");o.className="hotel-name",o.textContent=t.hotel;const a=document.createElement("div");return a.className="rating",a.innerHTML='<span class="star"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path d="M15.0732 5.1625L10.5393 4.50358L8.51248 0.394646C8.45712 0.282146 8.36605 0.191075 8.25355 0.135717C7.97141 -0.00356831 7.62855 0.112503 7.48748 0.394646L5.4607 4.50358L0.926767 5.1625C0.801767 5.18036 0.687481 5.23929 0.599981 5.32857C0.494199 5.4373 0.435907 5.58358 0.437916 5.73526C0.439925 5.88694 0.50207 6.03162 0.610695 6.1375L3.89105 9.33572L3.11605 13.8518C3.09788 13.9568 3.1095 14.0649 3.14961 14.1637C3.18972 14.2625 3.2567 14.348 3.34296 14.4107C3.42922 14.4733 3.53132 14.5106 3.63766 14.5181C3.744 14.5257 3.85034 14.5034 3.94462 14.4536L7.99998 12.3214L12.0553 14.4536C12.1661 14.5125 12.2946 14.5321 12.4178 14.5107C12.7286 14.4571 12.9375 14.1625 12.8839 13.8518L12.1089 9.33572L15.3893 6.1375C15.4786 6.05 15.5375 5.93572 15.5553 5.81072C15.6036 5.49822 15.3857 5.20893 15.0732 5.1625Z" fill="#FADB14"/></svg></span>'.repeat(t.rating),e.append(n,o,a),e}(t)),a.append(function(t){const e=document.createElement("div");return e.className="meal",e.textContent=t,e}(t.meal));const{datesContainer:r,pricesContainer:s}=function(t){const e=document.createElement("div");e.className="hotel-dates";const n=document.createElement("a");n.className="prime-btn prime-btn--modefided hotel-price",n.href=t.urls[0],n.addEventListener("click",e=>{const o=document.querySelector("[data-active-tab]");e.preventDefault(),ym(96674199,"reachGoal","select-tour-page-podborka",{country:o.getAttribute("data-active-tab"),hotel:t.hotel}),window.open(n.href,"_blank")});const o=[],a=[];return t.dates.forEach((n,r)=>{const[s,i,c]=n.split("-"),l=document.createElement("span");l.className="hotel-date"+(0===r?" js-active":""),l.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none"><path d="M1.333 3.667a2 2 0 0 1 2-2h9.334a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3.333a2 2 0 0 1-2-2z" stroke="#535353" stroke-width=".7" stroke-linejoin="round"/><path d="M1.333 3.667a2 2 0 0 1 2-2h9.334a2 2 0 0 1 2 2V5H1.333z" stroke="#535353" stroke-width=".7" stroke-linejoin="round"/><path d="M3.333 2.667V.333M8 2.667V.333m4.667 2.334V.333m-9 7.334H5m-1.333 2.666H5m2.333-2.666h1.334m-1.334 2.666h1.334M11 7.667h1.333M11 10.333h1.333" stroke="#535353" stroke-width=".7"/></svg>\n      ${c}.${i}\n    `,e.append(l),o.push(l);const d=new Intl.NumberFormat("ru-RU").format(t.price[r].amount).split(",")[0],u=document.createElement("span");u.className="price"+(0===r?" js-active":""),u.textContent=`${d} ₽`,a.push(u)}),a.forEach(t=>n.append(t)),o.forEach((e,r)=>{e.addEventListener("click",()=>{o.forEach(t=>t.classList.remove("js-active")),a.forEach(t=>t.classList.remove("js-active")),e.classList.add("js-active"),a[r].classList.add("js-active"),n.href=t.urls[r]})}),{datesContainer:e,pricesContainer:n}}(t);return a.append(r),a.append(function(t){const e=document.createElement("div");return e.className="info-icons",e.innerHTML=`\n    <div class="icon-wrapper">\n    <div class="icon">\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="12" viewBox="0 0 16 12" fill="none"><path d="M1.333 6.667a2 2 0 0 1 2-2h9.334a2 2 0 0 1 2 2V8H1.333zm0 1.333h13.334v3H13l-1-1.333H4L3 11H1.333zM2 2.667a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2H2z" stroke="#535353" stroke-width=".7" stroke-linejoin="round"/><path d="M4.333 3.667a1 1 0 0 1 1-1H6a1 1 0 0 1 1 1v1H4.333zm4.667 0a1 1 0 0 1 1-1h.667a1 1 0 0 1 1 1v1H9z" stroke="#535353" stroke-width=".7" stroke-linejoin="round"/></svg>\n    </div>\n    ${t.nights} н\n    </div>\n    <div class="icon-wrapper">\n    <div class="icon">\n      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="11" viewBox="0 0 14 11" fill="none"><path d="M4.892 5.983a2.47 2.47 0 0 1 0-4.941" stroke="#535353" stroke-width=".8" stroke-linejoin="bevel"/><path d="M.5 10.375a4.39 4.39 0 0 1 4.392-4.392" stroke="#535353" stroke-width=".8" stroke-linejoin="bevel"/><circle cx="8.833" cy="3.667" r="2.625" stroke="#535353" stroke-width=".8" stroke-linejoin="bevel"/><path d="M4.167 10.958a4.667 4.667 0 1 1 9.333 0" stroke="#535353" stroke-width=".8" stroke-linejoin="bevel"/></svg>\n    </div>\n    на двоих\n    </div>\n    <div class="icon-wrapper">\n    <div class="icon">\n      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="10" viewBox="0 0 14 10" fill="none"><path d="m3.558 2.845-1.88.684 2.82 2.875 7.518-2.736a1 1 0 1 0-.684-1.88L9.05 2.62 7.01.914l-2.42.172 1.64 2.56-1.32.48zM.333 9.333h13.334" stroke="#535353" stroke-width=".8" stroke-linejoin="round"/></svg>\n    </div>\n    из Москвы\n    </div>\n  `,e}(t)),a.append(function(t){const e=document.createElement("div");return e.className="package",e.textContent=t,e}(t.package)),a.append(s),e.append(n,a),e}(t);o.setAttribute("data-hotel",t.hotel),n.appendChild(o)}const e="/PackageTourHotelProduct/ListArrivalLocations",n="/PackageTourHotelProduct/ListAvailableDates",o="/PackageTourHotelProduct/ListAvailableNights",a="/PackageTourHotelProduct/PriceSearchList";async function r(t,e,n="POST"){try{const o=function(t){return`${"localhost"===location.hostname?"http://localhost:8010/proxy":"//"+location.hostname.replace(/^(www|new)/,"b2capi")}${t}`}(t),a=await fetch(o,{method:n,headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)});if(!a.ok)throw console.error(`API Error: ${a.status} ${a.statusText} for ${t}`),new Error(`API Error: ${a.status} ${a.statusText}`);return await a.json()}catch(o){throw console.error(`Error in doRequestToServer for endpoint ${t}:`,o),o}}async function s(t){const n=function(t,e){var n;if(!(null==t?void 0:t.length)||!(null==e?void 0:e.length))return[];const o=new Set(e.map(t=>t.trim().toUpperCase()).filter(Boolean));if(!o.size)return[];const a=new Map;for(const r of t)for(const t of(null==(n=null==r?void 0:r.result)?void 0:n.locations)||[]){const e=t.name.trim().toUpperCase();o.has(e)&&a.set(t.id,t)}return[...a.values()]}(await Promise.all(t.map(t=>r(e,{departureLocations:[{id:"2671-5",name:"Москва",type:5,friendlyUrl:"moskva"}],text:t},"POST"))),t);return n.map(t=>{return{id:(e=t).id,name:e.name,friendlyUrl:e.friendlyUrl,type:e.type,parent:e.parent,children:e.children||[]};var e})}async function i(t){const e={departureLocations:[{id:"2671-5",name:"Москва",type:5,friendlyUrl:"moskva"}],arrivalLocations:[t]};return await r(n,e,"POST")}function c(t,e){return r(o,{flightType:2,beginDates:[e],calculateAvailableNightRanges:!0,departureLocations:[{id:"2671-5",name:"Москва",type:5,friendlyUrl:"moskva"}],arrivalLocations:[t]},"POST")}function l(t,e,n,o=!0){if(!Array.isArray(t)||!e)return null;for(const a of t)if(a&&Object.prototype.hasOwnProperty.call(a,e)&&a[e]===n)return a;return null}async function d(t,e,n){return r(a,{searchSource:0,searchCriterias:{flightType:2,reservationType:1,beginDates:[e],datePickerMode:0,nights:[{value:n}],roomCriterias:[{passengers:[{age:20,passengerType:0},{age:20,passengerType:0}]}],departureLocations:[{id:"2671-5",name:"Москва",type:5,friendlyUrl:"moskva"}],arrivalLocations:[t],paging:{pageNumber:1,pageSize:20,sortType:0},imageSizes:[4],categories:[],additionalFilters:[]}},"POST")}function u(t,e){return e.find(e=>e.date===t)||null}function h(t,e){return t.find(t=>t.name===e.hotel)}async function p(e,n){var o,a,r,p,v,m,f,g,w,y,k,b,L,C,E,S;const j=n+1,T=`hotelData_${n}`,x=sessionStorage.getItem(T),M=document.querySelector(`.tab-block[data-content="${j}"] .loading-box`);M&&(M.style.display="block",M.dataset.hidden="");const H=document.querySelector(`.tab-block[data-content="${j}"] .cards-container`);if(H&&(H.innerHTML=""),x){const e=JSON.parse(x);return e.forEach((e,n)=>{t(e,j)}),M&&(M.style.display="none"),e}const N=e.hotels.map(t=>t.hotel),P=await s(N),$=[];for(let s=0;s<e.hotels.length;s++){const n=e.hotels[s];n.price=[],n.visual=null;const T=h(P,n);if(!T)continue;const x=await i(T);if(null==(a=null==(o=null==x?void 0:x.result)?void 0:o.dates)?void 0:a.length){for(const t of n.dates){const e=u(t,x.result.dates);if(!e)continue;const o=l((await c(T,e.date)).result.nights,"value",7);if(!o)continue;const a=await d(T,e.date,o.value),s=null==(g=null==(f=null==(m=null==(v=null==(p=null==(r=null==a?void 0:a.result)?void 0:r.products)?void 0:p[0])?void 0:v.offers)?void 0:m[0])?void 0:f.price)?void 0:g.amount,i=null==(S=null==(E=null==(C=null==(L=null==(b=null==(k=null==(y=null==(w=null==a?void 0:a.result)?void 0:w.products)?void 0:y[0])?void 0:k.hotel)?void 0:b.images)?void 0:L[4])?void 0:C.sizes)?void 0:E[0])?void 0:S.url;s&&n.price.push({date:e.date,amount:s}),i&&(n.visual=i)}$.push(n),t(n,j),M&&!M.dataset.hidden&&(M.style.display="none",M.dataset.hidden="true")}}return M&&delete M.dataset.hidden,sessionStorage.setItem(T,JSON.stringify($)),$}const v=window._toursByCountry;function m(t){v.forEach((e,n)=>{t.append(function(t,e){const n=document.createElement("button");return 0===e&&n.classList.add("js-active"),n.setAttribute("data-tab",`${e+1}`),n.textContent=t,n}(e.country,n))})}function f(t,e){document.querySelectorAll(".tab-buttons button").forEach(t=>t.classList.remove("js-active")),document.querySelectorAll(".tab-block").forEach(t=>t.classList.remove("js-active")),t.classList.add("js-active"),document.querySelector(`.tab-block[data-content="${e}"]`).classList.add("js-active"),document.querySelector("[data-active-tab]").setAttribute("data-active-tab",v[e-1].country)}(async()=>{await async function(t="#__next > div",e=200){return new Promise(n=>{const o=()=>{const a=document.querySelector(t);(null==a?void 0:a.getBoundingClientRect().height)?n():setTimeout(o,e)};o()})}();m(document.querySelector("#tabs-button-container"));const t=document.querySelectorAll(".tab-buttons button"),e=t[0];if(e){const t=e.getAttribute("data-tab");f(e,t);try{await p(v[0],0)}catch(n){console.error("Ошибка загрузки данных",n)}finally{ym(96674199,"reachGoal","country-filter",{country:v[0].country})}}t.forEach((t,e)=>{t.addEventListener("click",()=>async function(t,e){const o=t.getAttribute("data-tab");f(t,o),ym(96674199,"reachGoal","country-filter",{country:v[o-1].country});const a=v[e];try{await p(a,e)}catch(n){console.error("Ошибка загрузки данных",n)}}(t,e))})})();
</script>